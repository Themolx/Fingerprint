<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Generate PNG Icons - You, For Sale</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #1a1a2e;
      color: #e0e0e0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 40px 20px;
    }
    h1 {
      font-size: 28px;
      margin-bottom: 8px;
      color: #ffcc00;
    }
    p.subtitle {
      color: #888;
      margin-bottom: 40px;
      font-size: 14px;
    }
    .icons-row {
      display: flex;
      gap: 40px;
      align-items: flex-end;
      margin-bottom: 40px;
      flex-wrap: wrap;
      justify-content: center;
    }
    .icon-card {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 12px;
      background: #0f0f1a;
      border: 1px solid #333;
      border-radius: 12px;
      padding: 24px;
    }
    .icon-card canvas {
      border: 1px dashed #444;
      border-radius: 4px;
    }
    .icon-card .label {
      font-size: 13px;
      color: #aaa;
    }
    .icon-card .size {
      font-size: 18px;
      font-weight: bold;
      color: #ff4444;
    }
    button {
      background: #ff4444;
      color: white;
      border: none;
      padding: 8px 20px;
      border-radius: 6px;
      font-size: 13px;
      cursor: pointer;
      transition: background 0.2s;
    }
    button:hover { background: #cc3333; }
    .btn-all {
      background: #ffcc00;
      color: #0a0a0f;
      font-size: 16px;
      padding: 14px 36px;
      border-radius: 8px;
      font-weight: bold;
      margin-bottom: 30px;
    }
    .btn-all:hover { background: #e6b800; }
    .instructions {
      max-width: 600px;
      text-align: center;
      color: #777;
      font-size: 13px;
      line-height: 1.6;
      margin-top: 20px;
      padding: 20px;
      border: 1px solid #2a2a3a;
      border-radius: 8px;
    }
    .instructions code {
      background: #0a0a0f;
      padding: 2px 6px;
      border-radius: 3px;
      color: #ffcc00;
      font-size: 12px;
    }
  </style>
</head>
<body>
  <h1>You, For Sale</h1>
  <p class="subtitle">Icon PNG Generator</p>

  <button class="btn-all" onclick="downloadAll()">Download All PNGs</button>

  <div class="icons-row">
    <div class="icon-card">
      <div class="size">16x16</div>
      <canvas id="canvas16" width="16" height="16"></canvas>
      <div class="label">icon16.png</div>
      <button onclick="downloadPNG(16)">Download</button>
    </div>
    <div class="icon-card">
      <div class="size">48x48</div>
      <canvas id="canvas48" width="48" height="48"></canvas>
      <div class="label">icon48.png</div>
      <button onclick="downloadPNG(48)">Download</button>
    </div>
    <div class="icon-card">
      <div class="size">128x128</div>
      <canvas id="canvas128" width="128" height="128"></canvas>
      <div class="label">icon128.png</div>
      <button onclick="downloadPNG(128)">Download</button>
    </div>
  </div>

  <div class="instructions">
    <strong>How to use:</strong><br>
    Click "Download All PNGs" or individual download buttons to save the PNG files.
    Then place them in your extension's <code>icons/</code> directory.<br><br>
    Reference them in your <code>manifest.json</code>:
    <br><br>
    <code>"icons": { "16": "icons/icon16.png", "48": "icons/icon48.png", "128": "icons/icon128.png" }</code>
  </div>

  <script>
    // The SVG icon design rendered via canvas at each size.
    // We draw programmatically so the output is pixel-perfect at each resolution.

    function drawIcon(canvas, size) {
      const ctx = canvas.getContext('2d');
      const s = size / 128; // scale factor from 128-unit viewBox

      ctx.clearRect(0, 0, size, size);

      // --- Dark circular background ---
      ctx.beginPath();
      ctx.arc(64 * s, 64 * s, 62 * s, 0, Math.PI * 2);
      ctx.fillStyle = '#0a0a0f';
      ctx.fill();

      // Border ring
      ctx.beginPath();
      ctx.arc(64 * s, 64 * s, 60 * s, 0, Math.PI * 2);
      ctx.strokeStyle = 'rgba(255, 68, 68, 0.6)';
      ctx.lineWidth = 2.5 * s;
      ctx.stroke();

      // --- Person head ---
      ctx.beginPath();
      ctx.arc(64 * s, 38 * s, 14 * s, 0, Math.PI * 2);
      ctx.fillStyle = 'rgba(255, 68, 68, 0.85)';
      ctx.fill();

      // --- Person body (shoulders) ---
      ctx.beginPath();
      ctx.moveTo(36 * s, 90 * s);
      ctx.quadraticCurveTo(36 * s, 62 * s, 64 * s, 62 * s);
      ctx.quadraticCurveTo(92 * s, 62 * s, 92 * s, 90 * s);
      ctx.lineTo(92 * s, 100 * s);
      ctx.lineTo(36 * s, 100 * s);
      ctx.closePath();
      ctx.fillStyle = 'rgba(255, 68, 68, 0.85)';
      ctx.fill();

      // --- Price tag rectangle ---
      const tagX = 46 * s, tagY = 68 * s, tagW = 36 * s, tagH = 26 * s, tagR = 3 * s;
      ctx.beginPath();
      ctx.moveTo(tagX + tagR, tagY);
      ctx.lineTo(tagX + tagW - tagR, tagY);
      ctx.arcTo(tagX + tagW, tagY, tagX + tagW, tagY + tagR, tagR);
      ctx.lineTo(tagX + tagW, tagY + tagH - tagR);
      ctx.arcTo(tagX + tagW, tagY + tagH, tagX + tagW - tagR, tagY + tagH, tagR);
      ctx.lineTo(tagX + tagR, tagY + tagH);
      ctx.arcTo(tagX, tagY + tagH, tagX, tagY + tagH - tagR, tagR);
      ctx.lineTo(tagX, tagY + tagR);
      ctx.arcTo(tagX, tagY, tagX + tagR, tagY, tagR);
      ctx.closePath();
      ctx.fillStyle = '#0a0a0f';
      ctx.fill();
      ctx.strokeStyle = '#ffcc00';
      ctx.lineWidth = 2 * s;
      ctx.stroke();

      // --- Dollar sign ---
      ctx.fillStyle = '#ffcc00';
      ctx.font = `bold ${22 * s}px Arial, Helvetica, sans-serif`;
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText('$', 64 * s, 81 * s);

      // --- Barcode lines ---
      const barcodeLines = [
        { x: 42, h: 10, w: 1.5 },
        { x: 46, h: 12, w: 2 },
        { x: 50, h: 8,  w: 1 },
        { x: 53, h: 12, w: 1.5 },
        { x: 57, h: 10, w: 2 },
        { x: 61, h: 8,  w: 1 },
        { x: 64, h: 12, w: 1.5 },
        { x: 68, h: 10, w: 2 },
        { x: 72, h: 8,  w: 1 },
        { x: 75, h: 12, w: 1.5 },
        { x: 79, h: 10, w: 2 },
        { x: 82, h: 8,  w: 1 },
        { x: 86, h: 12, w: 1.5 },
      ];

      ctx.strokeStyle = 'rgba(255, 204, 0, 0.7)';
      barcodeLines.forEach(line => {
        ctx.beginPath();
        ctx.lineWidth = line.w * s;
        ctx.moveTo(line.x * s, 98 * s);
        ctx.lineTo(line.x * s, (98 + line.h) * s);
        ctx.stroke();
      });
    }

    // Render all three sizes
    [16, 48, 128].forEach(size => {
      const canvas = document.getElementById('canvas' + size);
      drawIcon(canvas, size);
    });

    function downloadPNG(size) {
      const canvas = document.getElementById('canvas' + size);
      const link = document.createElement('a');
      link.download = `icon${size}.png`;
      link.href = canvas.toDataURL('image/png');
      link.click();
    }

    function downloadAll() {
      [16, 48, 128].forEach((size, i) => {
        setTimeout(() => downloadPNG(size), i * 300);
      });
    }
  </script>
</body>
</html>
